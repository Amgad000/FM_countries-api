if(fetch("https://restcountries.com/v3.1/all").then(e=>e.json()).then(function(t){if(document.querySelector("section.whole")){var e,n=document.querySelector("section.whole");for(e of t){var o=document.createElement("div"),c=document.createElement("img"),a=document.createElement("div");n.append(o),o.append(c),o.append(a),a.innerHTML=`
      <h2>${e.name.common}</h2>
      <p><span>population:</span> ${e.population}</p>
      <p><span>region:</span> ${e.region}</p>
      <p><span>capital:</span> ${e.capital}</p>
      `,o.classList.add("country"),o.setAttribute("data-region",e.region),o.setAttribute("data-name",e.name.common.toLowerCase()),o.setAttribute("data-index",t.indexOf(e)),c.src=e.flags.png,c.alt=e.name.official}document.addEventListener("click",function(e){e.target.parentElement.classList.contains("country")&&(localStorage.setItem("index",e.target.parentElement.dataset.index),document.querySelector("a").click())})}if(document.querySelector("section.country")){document.querySelector("section.country");if(document.querySelector(".image img").src=t[localStorage.getItem("index")].flags.png,document.querySelector(".info h2").textContent=t[localStorage.getItem("index")].name.common,document.querySelector(".bigo p:nth-child(1) span:nth-child(2)").textContent=t[localStorage.getItem("index")].name.official,document.querySelector(".bigo p:nth-child(2) span:nth-child(2)").textContent=t[localStorage.getItem("index")].population,document.querySelector(".bigo p:nth-child(3) span:nth-child(2)").textContent=t[localStorage.getItem("index")].region,document.querySelector(".bigo p:nth-child(4) span:nth-child(2)").textContent=t[localStorage.getItem("index")].subregion,document.querySelector(".bigo p:nth-child(5) span:nth-child(2)").textContent=t[localStorage.getItem("index")].capital[0],document.querySelector(".tino p:nth-child(1) span:nth-child(2)").textContent=t[localStorage.getItem("index")].tld[0],document.querySelector(".tino p:nth-child(2) span:nth-child(2)").textContent=Object.values(t[localStorage.getItem("index")].currencies)[0].name,document.querySelector(".tino p:nth-child(3) span:nth-child(2)").textContent=Object.values(t[localStorage.getItem("index")].languages).join(" , "),null==t[localStorage.getItem("index")].borders)document.querySelector("p.borders").remove();else for(let e=0;e<t[localStorage.getItem("index")].borders.length;e++){var l=document.createElement("span");l.append(document.createTextNode(t[localStorage.getItem("index")].borders[e])),document.querySelector("p.borders").append(l)}}}),document.querySelector("section.whole")){let e=document.querySelector(".search input"),t=document.querySelector(".search .lens"),n=(t.addEventListener("click",function(){let t=e.value.trim().toLowerCase();document.querySelectorAll(".country").forEach(e=>{e.dataset.name.includes(t)?e.style.display="block":e.style.display="none"})}),document.querySelector(".select .filter-icon")),o=document.querySelector(".select .text"),c=document.querySelector(".select-options");n.addEventListener("click",function(){c.classList.toggle("show")}),c.addEventListener("click",function(t){t.target.classList.contains("selection")&&(o.textContent=t.target.dataset.region,c.classList.remove("show"),document.querySelectorAll(".country").forEach(e=>{e.dataset.region==t.target.dataset.region?e.style.display="block":e.style.display="none"}))})}if(document.querySelector("section.country")){let e=document.querySelector(".back");e.addEventListener("click",function(){window.history.back()})}let theme={light:"css/light.css",dark:"css/dark.css"},themeLink=document.getElementById("theme"),themeP=document.querySelector("p.theme"),themeSpan=document.querySelector("p.theme span");localStorage.getItem("theme")&&("light"==localStorage.getItem("theme")?(themeLink.href=theme.light,themeLink.dataset.t="light"):(themeLink.href=theme.dark,themeLink.dataset.t="dark")),themeP.addEventListener("click",function(){"light"==themeLink.dataset.t?(themeLink.href=theme.dark,themeLink.dataset.t="dark",localStorage.setItem("theme","dark")):(themeLink.href=theme.light,themeLink.dataset.t="light",localStorage.setItem("theme","light"))});